!function(){var r=angular.module("automate",["ngSanitize","ngAnimate"]),t=[{label:"Latest Version",id:"http://wordpress.org/latest.zip"},{label:"Nightly Build (Beta)",id:"http://wordpress.org/nightly-builds/wordpress-latest.zip"}];r.controller("FormController",["$scope","$http",function(r,e){this.options=t,r.formData={},r.formData.installation_type="http://wordpress.org/latest.zip",r.formData.create_database=!1,r.formData.database_host="localhost",r.formData.table_prefix="wp_",r.isInstalling=!1,r.processForm=function(){e({method:"POST",url:"controls/process.php",data:$.param(r.formData),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(t){"errors"==t.outcome?(r.setupProcess="",r.errorAlert=t.errors,r.DBerrorAlert=t.dberrors):"success"==t.outcome?(r.errorAlert="",r.DBerrorAlert="",r.setupProcess=t.setup_process,r.isInstalling=!0,r.runInstaller()):r.warningAlert="<strong>Warning!</strong> Something is seriously wrong."})},r.runInstaller=function(){e({method:"POST",url:"controls/installer.php",data:$.param(r.formData),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(t){r.isInstalling=!1,r.processResults=t.results,r.projectUrl=t.projectUrl})}}]),r.directive("slugFriendly",function(){return{restrict:"A",link:function(r,t){t.keyup(function(){var r=angular.lowercase(t.val());return angular.isUndefined(t.val())?!1:void t.val(r.replace(/[^a-z0-9-_]/g,""))})}}});var e=function(){return{restrict:"E",require:"?ngModel",link:function(r,t,e,s){s&&(t.on("focus",function(){t.addClass("ng-focus"),r.$apply(function(){s.hasFocus=!0})}),t.on("blur",function(){t.removeClass("ng-focus"),t.addClass("ng-visited"),r.$apply(function(){s.hasFocus=!1,s.hasVisited=!0})}),t.closest("form").on("submit",function(){t.addClass("ng-visited"),r.$apply(function(){s.hasFocus=!1,s.hasVisited=!0})}))}}};r.directive("input",e)}();
